#include <iostream>
using namespace std;
class CNode{
public:
  int v;
  CNode *next;
  CNode *prev;
  CNode(int _v): v(_v), next(nullptr), prev(nullptr){}
  ~CNode(){
    if(prev) {prev->next = next; }
    if(next) {next->prev = prev; }    
  }
};
class CList{
public:
  CNode *Head;
  CNode *Tail;
  CList(): Head(nullptr), Tail(nullptr){}
  void push_back(int);
  void pop_back();
  void push_front(int);
  void pop_front();
  void print(); 
};

void CList::push_back(int v){
  if(Tail){
    Tail->next = new CNode(v);
    Tail->next->prev = Tail;
    Tail = Tail->next;
  }
  else{
    Head = Tail = new CNode(v);
  }
}
void CList::pop_back(){
  if(Tail){
      if(Tail->prev) {
      Tail = Tail->prev;
      delete Tail->next;
      Tail->next = nullptr;
      }
      else{
        delete Head;
        Head = Tail = nullptr;
      }
    
  }
}
void CList::push_front(int v){
if(Head){
  Head->prev = new CNode(v);
  Head->prev->next = Head;
  Head=Head->prev;
}
else{
  Head = Tail = new CNode(v);
}
}
void CList::pop_front(){
  if(Head){
      if(Head->next){
        Head = Head->next;
        delete Head->prev;
        Head->prev = nullptr;
      }
      else{
        delete Head;
        Head = Tail = nullptr;
      }
  }
}
void CList::print(){
  for(CNode *p=Head; p; p=p->next){cout<<p->v<<" ";}
}
int main() {
  CList list1;
  for(int i=1;i<=100;i++) list1.push_back(i);
  for(int i=1;i<=100;i++) list1.push_back(i);
  for(int i=1;i<=20;i++) list1.pop_back();
  for(int i=1;i<=20;i++) list1.pop_front();
  list1.print();
}



